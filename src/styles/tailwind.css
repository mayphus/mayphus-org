@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Let Shiki code blocks use their theme-specific backgrounds */
  .prose pre,
  .prose .shiki,
  .prose .shiki pre,
  pre.shiki {
    background: unset !important;
    background-color: unset !important;
    border: 1px solid rgb(229 231 235) !important;
    overflow-x: auto !important;
    scrollbar-width: none !important; /* Firefox */
    -ms-overflow-style: none !important; /* IE/Edge */
  }

  /* Hide scrollbar for WebKit browsers */
  .prose pre::-webkit-scrollbar,
  .prose .shiki::-webkit-scrollbar,
  .prose .shiki pre::-webkit-scrollbar,
  pre.shiki::-webkit-scrollbar {
    display: none !important;
  }

  /* Remove background override from inline code */
  .prose .shiki code {
    background: unset !important;
    background-color: unset !important;
  }

  /* Dark mode border */
  .dark .prose pre,
  .dark .prose .shiki,
  .dark .prose .shiki pre,
  .dark pre.shiki {
    border-color: rgb(75 85 99) !important;
  }
}

@layer components {
  /* Remove underline from autolinked heading anchors */
  .prose :where(h1,h2,h3,h4,h5,h6) a,
  .prose :where(h1,h2,h3,h4,h5,h6) a:hover,
  .prose :where(h1,h2,h3,h4,h5,h6) a:focus {
    text-decoration: none;
  }

  /* Make general link underlines subtle */
  .prose :where(a) {
    text-underline-offset: 0.18em;
    text-decoration-thickness: 0.04em;
    text-decoration-skip-ink: auto;
  }
}
